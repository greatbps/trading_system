2025-08-07 05:56:26 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ConnectionDoesNotExistError: connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 0): connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 1): connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 2): connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 3): connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 4): connection was closed in the middle of operation
2025-08-07 05:56:30 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 5): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 6): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 7): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 8): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 9): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 10): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 11): connection was closed in the middle of operation
2025-08-07 05:56:31 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 12): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 13): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 14): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 15): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 16): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 17): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 18): connection was closed in the middle of operation
2025-08-07 05:56:32 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 19): connection was closed in the middle of operation
2025-08-07 05:56:33 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 20): connection was closed in the middle of operation
2025-08-07 05:56:33 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 21): connection was closed in the middle of operation
2025-08-07 05:56:33 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 22): connection was closed in the middle of operation
2025-08-07 05:56:33 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 23): connection was closed in the middle of operation
2025-08-07 05:56:33 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 24): connection was closed in the middle of operation
2025-08-07 05:56:33 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 25): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 26): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 27): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 28): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 29): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 30): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 31): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 32): connection was closed in the middle of operation
2025-08-07 05:56:34 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 33): connection was closed in the middle of operation
2025-08-07 05:56:35 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 34): connection was closed in the middle of operation
2025-08-07 05:56:35 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 35): connection was closed in the middle of operation
2025-08-07 05:56:35 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 36): connection was closed in the middle of operation
2025-08-07 05:56:35 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 37): connection was closed in the middle of operation
2025-08-07 05:56:35 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 38): connection was closed in the middle of operation
2025-08-07 05:56:35 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 39): connection was closed in the middle of operation
2025-08-07 05:56:50 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:56:53 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:56:56 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:56:59 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:02 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:05 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:08 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:11 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:14 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:17 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: "filter_history" 이름의 릴레이션(relation)이 없습니다
[SQL: SELECT filter_history.filter_date, filter_history.strategy, filter_history.filter_type, filter_history.hts_condition, filter_history.hts_result_count, filter_history.hts_symbols, filter_history.ai_analyzed_count, filter_history.ai_passed_count, filter_history.final_symbols, filter_history.final_count, filter_history.execution_time, filter_history.hts_time, filter_history.ai_time, filter_history.avg_score, filter_history.max_score, filter_history.min_score, filter_history.status, filter_history.error_message, filter_history.market_condition, filter_history.notes, filter_history.id, filter_history.created_at, filter_history.updated_at 
FROM filter_history 
WHERE filter_history.strategy = $1::VARCHAR ORDER BY filter_history.filter_date DESC 
 LIMIT $2::INTEGER]
[parameters: ('momentum', 1)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:57:17 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 1): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 05:59:29 | DatabaseOperations | ERROR    | wrapper         | ❌ 비-DB 예외 발생: TypeError: DatabaseOperations.save_filter_history() missing 1 required positional argument: 'filtered_stocks_data'
2025-08-07 05:59:51 | DatabaseOperations | ERROR    | wrapper         | ❌ 비-DB 예외 발생: TypeError: 'history_id' is an invalid keyword argument for FilteredStock
2025-08-07 06:00:51 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 99999): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (99999,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:00:51 | DatabaseOperations | ERROR    | get_filtered_stocks_for_history | ❌ 필터링된 종목 조회 실패 (History ID: 99999): Entity namespace for "filtered_stocks" has no property "history_id"
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_filtered_stocks_for_history | ❌ 필터링된 종목 조회 실패 (History ID: 2): Entity namespace for "filtered_stocks" has no property "history_id"
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 0): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (0,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 1): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (1,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 2): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (2,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 3): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (3,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 4): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (4,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:25 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 5): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (5,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 6): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (6,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 7): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (7,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 8): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (8,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 9): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (9,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 10): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (10,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 11): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (11,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 12): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (12,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 13): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (13,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 14): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (14,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:26 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 15): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (15,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:27 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 16): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (16,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:27 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 17): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (17,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:27 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 18): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (18,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:08:27 | DatabaseOperations | ERROR    | get_analysis_result_by_filtered_stock_id | ❌ 분석 결과 조회 실패 (FilteredStock ID: 19): (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: analysis_results.filtered_stock_id 칼럼 없음
[SQL: SELECT analysis_results.filtered_stock_id, analysis_results.stock_id, analysis_results.analysis_datetime, analysis_results.strategy, analysis_results.total_score, analysis_results.score_threshold, analysis_results.final_grade, analysis_results.news_score, analysis_results.technical_score, analysis_results.supply_demand_score, analysis_results.rsi_14, analysis_results.macd_signal, analysis_results.supertrend_signal, analysis_results.ema_5, analysis_results.ema_20, analysis_results.bollinger_position, analysis_results.positive_news_count, analysis_results.negative_news_count, analysis_results.news_keywords, analysis_results.institution_net, analysis_results.foreign_net, analysis_results.individual_net, analysis_results.volatility, analysis_results.liquidity_risk, analysis_results.market_risk, analysis_results.risk_level, analysis_results.technical_details, analysis_results.fundamental_details, analysis_results.sentiment_details, analysis_results.supply_demand_details, analysis_results.price_at_analysis, analysis_results.is_selected, analysis_results.id, analysis_results.created_at, analysis_results.updated_at 
FROM analysis_results 
WHERE analysis_results.filtered_stock_id = $1::INTEGER]
[parameters: (19,)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-07 06:11:08 | DatabaseOperations | ERROR    | wrapper         | ❌ 비-DB 예외 발생: TypeError: 'history_id' is an invalid keyword argument for FilteredStock
2025-08-07 06:11:58 | DatabaseOperations | ERROR    | wrapper         | ❌ DB 연결 최종 실패 (3회 시도): IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: "filtered_stocks" 테이블에서 자료 추가, 갱신 작업이 "filtered_stocks_stock_id_fkey" 참조키(foreign key) 제약 조건을 위배했습니다
DETAIL:  (stock_id)=(1) 키가 "stocks" 테이블에 없습니다.
[SQL: INSERT INTO filtered_stocks (stock_id, strategy_name, filtered_date, hts_condition_name, current_price, price_change, price_change_rate, volume, created_at, updated_at) SELECT p0::INTEGER, p1::VARCHAR, p2::TIMESTAMP WITHOUT TIME ZONE, p3::VARCHAR, p4 ... 534 characters truncated ... tered_stocks.id, filtered_stocks.created_at, filtered_stocks.updated_at, filtered_stocks.id AS id__1]
[parameters: (1, 'test_comprehensive', datetime.datetime(2025, 8, 7, 6, 11, 58, 755602), 'test_comprehensive_condition', None, None, None, None, 2, 'test_comprehensive', datetime.datetime(2025, 8, 7, 6, 11, 58, 755602), 'test_comprehensive_condition', None, None, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 06:12:35 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 7): name 'AnalysisGrade' is not defined
2025-08-07 06:13:08 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 8): 'chart_pattern_details' is an invalid keyword argument for AnalysisResult
2025-08-07 06:13:59 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 9): (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.CheckViolationError'>: 새 자료가 "analysis_results" 릴레이션의 "check_news_score_range" 체크 제약 조건을 위반했습니다
DETAIL:  실패한 자료: (9, 1, 2025-08-07 06:13:59.171226, perfect_test, null, 60.00, null, 75.00, 82.00, 78.00, null, null, null, null, null, null, 0, 0, null, 0, 0, 0, null, null, null, null, {"rsi": 68.5, "macd": "bullish"}, null, {"news_sentiment": "positive"}, {"institutional_flow": "buying"}, null, f, 1, 2025-08-07 06:13:59.174807, 2025-08-07 06:13:59.174807)
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (9, 1, datetime.datetime(2025, 8, 7, 6, 13, 59, 171226), 'perfect_test', None, 60.0, None, 75.0, 82.0, 78.0, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"rsi": 68.5, "macd": "bullish"}', '{"news_sentiment": "positive"}', '{"institutional_flow": "buying"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 0): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (0, 0, datetime.datetime(2025, 8, 7, 6, 41, 44, 85958), None, None, 60.0, None, 50, 65.0, 50.75, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "005930", "indicators": {"ma5": 38763.6, "ma20": 39461.25, "ma_signal": "HOLD", "rsi": 45.26641524030558, "rsi_signal": "NEUTRAL", "macd": ... (552 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 65.0, "confidence": 80.0, "analysis_time": "2025-08-07T06:41:43.838955"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 50.75, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 55, "trend": "neutral", "strength": 0.3, ... (995 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.839956"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 1): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (1, 1, datetime.datetime(2025, 8, 7, 6, 41, 44, 87957), None, None, 60.0, None, 50, 75.0, 47.75, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "000660", "indicators": {"ma5": 25980.0, "ma20": 25756.1, "ma_signal": "BUY", "rsi": 61.95129517605087, "rsi_signal": "NEUTRAL", "macd": 2 ... (551 characters truncated) ... als": 2, "neutral_signals": 3, "overall_signal": "HOLD"}, "technical_score": 75.0, "confidence": 90.0, "analysis_time": "2025-08-07T06:41:43.962955"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 47.75, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 55, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.963957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 2): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (2, 2, datetime.datetime(2025, 8, 7, 6, 41, 44, 87957), None, None, 60.0, None, 50, 40.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "035420", "indicators": {"ma5": 43556.2, "ma20": 43946.45, "ma_signal": "HOLD", "rsi": 52.750867121157754, "rsi_signal": "NEUTRAL", "macd" ... (556 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 40.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.925958"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.926956"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 3): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (3, 3, datetime.datetime(2025, 8, 7, 6, 41, 44, 89957), None, None, 60.0, None, 50, 35.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "005380", "indicators": {"ma5": 9330.4, "ma20": 10105.45, "ma_signal": "HOLD", "rsi": 39.36449579831933, "rsi_signal": "NEUTRAL", "macd":  ... (553 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:44.069956"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:44.070957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 4): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (4, 4, datetime.datetime(2025, 8, 7, 6, 41, 44, 89957), None, None, 60.0, None, 50, 45.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "051910", "indicators": {"ma5": 25234.6, "ma20": 25588.65, "ma_signal": "SELL", "rsi": 38.57194767441861, "rsi_signal": "NEUTRAL", "macd": ... (551 characters truncated) ... als": 3, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 45.0, "confidence": 90.0, "analysis_time": "2025-08-07T06:41:44.040957"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:44.041957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 5): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (5, 5, datetime.datetime(2025, 8, 7, 6, 41, 44, 86956), None, None, 60.0, None, 50, 75.0, 47.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "028260", "indicators": {"ma5": 42001.8, "ma20": 40880.55, "ma_signal": "BUY", "rsi": 55.5931515192529, "rsi_signal": "NEUTRAL", "macd": - ... (551 characters truncated) ... als": 2, "neutral_signals": 3, "overall_signal": "HOLD"}, "technical_score": 75.0, "confidence": 90.0, "analysis_time": "2025-08-07T06:41:43.887956"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 47.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (995 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.888956"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 6): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (6, 6, datetime.datetime(2025, 8, 7, 6, 41, 44, 85958), None, None, 60.0, None, 50, 20.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "006400", "indicators": {"ma5": 21378.4, "ma20": 22225.65, "ma_signal": "SELL", "rsi": 31.110834680930466, "rsi_signal": "NEUTRAL", "macd" ... (556 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 20.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.851955"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.852960"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 7): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (7, 7, datetime.datetime(2025, 8, 7, 6, 41, 44, 86956), None, None, 60.0, None, 50, 35.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "000270", "indicators": {"ma5": 32539.6, "ma20": 32424.3, "ma_signal": "HOLD", "rsi": 47.31103889296571, "rsi_signal": "NEUTRAL", "macd":  ... (550 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.911957"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.913958"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 8): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (8, 8, datetime.datetime(2025, 8, 7, 6, 41, 44, 85958), None, None, 60.0, None, 50, 25.0, 41.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "068270", "indicators": {"ma5": 49107.8, "ma20": 52892.4, "ma_signal": "SELL", "rsi": 23.266685180042572, "rsi_signal": "OVERSOLD", "macd" ... (555 characters truncated) ... als": 4, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 25.0, "confidence": 95.0, "analysis_time": "2025-08-07T06:41:43.863956"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 41.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.864956"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 9): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (9, 9, datetime.datetime(2025, 8, 7, 6, 41, 44, 88957), None, None, 60.0, None, 50, 20.0, 47.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "105560", "indicators": {"ma5": 9130.6, "ma20": 9701.15, "ma_signal": "SELL", "rsi": 30.0, "rsi_signal": "NEUTRAL", "macd": -288.579382848 ... (538 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 20.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:44.010955"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 47.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (995 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:44.011959"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 10): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (10, 10, datetime.datetime(2025, 8, 7, 6, 41, 44, 88957), None, None, 60.0, None, 50, 35.0, 47.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "055550", "indicators": {"ma5": 20562.8, "ma20": 20547.3, "ma_signal": "HOLD", "rsi": 43.790849673202615, "rsi_signal": "NEUTRAL", "macd": ... (553 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.998955"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 47.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (995 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.999956"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 11): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (11, 11, datetime.datetime(2025, 8, 7, 6, 41, 44, 87957), None, None, 60.0, None, 50, 40.0, 41.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "035720", "indicators": {"ma5": 28776.6, "ma20": 30310.1, "ma_signal": "HOLD", "rsi": 36.67682212327162, "rsi_signal": "NEUTRAL", "macd":  ... (556 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 40.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.950958"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 41.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.951957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 12): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (12, 12, datetime.datetime(2025, 8, 7, 6, 41, 44, 86956), None, None, 60.0, None, 50, 65.0, 44.75, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "207940", "indicators": {"ma5": 42041.4, "ma20": 40450.0, "ma_signal": "HOLD", "rsi": 62.76027762947143, "rsi_signal": "NEUTRAL", "macd":  ... (558 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 65.0, "confidence": 80.0, "analysis_time": "2025-08-07T06:41:43.899957"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.75, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 55, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.900957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 13): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (13, 13, datetime.datetime(2025, 8, 7, 6, 41, 44, 90957), None, None, 60.0, None, 50, 35.0, 41.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "066570", "indicators": {"ma5": 30075.4, "ma20": 32609.65, "ma_signal": "SELL", "rsi": 22.118690066944083, "rsi_signal": "OVERSOLD", "macd ... (555 characters truncated) ... als": 4, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 95.0, "analysis_time": "2025-08-07T06:41:44.082956"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 41.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:44.083957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 14): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (14, 14, datetime.datetime(2025, 8, 7, 6, 41, 44, 87957), None, None, 60.0, None, 50, 30.0, 41.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "323410", "indicators": {"ma5": 45342.6, "ma20": 47368.95, "ma_signal": "SELL", "rsi": 42.99821164761683, "rsi_signal": "NEUTRAL", "macd": ... (565 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 30.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.974958"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 41.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.975956"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 15): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (15, 15, datetime.datetime(2025, 8, 7, 6, 41, 44, 87957), None, None, 60.0, None, 50, 45.0, 47.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "000810", "indicators": {"ma5": 45364.2, "ma20": 43295.15, "ma_signal": "BUY", "rsi": 74.09931840311587, "rsi_signal": "OVERBOUGHT", "macd ... (552 characters truncated) ... als": 3, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 45.0, "confidence": 80.0, "analysis_time": "2025-08-07T06:41:43.937958"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 47.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (995 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.938957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 16): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (16, 16, datetime.datetime(2025, 8, 7, 6, 41, 44, 88957), None, None, 60.0, None, 50, 30.0, 47.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "017670", "indicators": {"ma5": 39950.4, "ma20": 43902.4, "ma_signal": "SELL", "rsi": 19.422592224852977, "rsi_signal": "OVERSOLD", "macd" ... (557 characters truncated) ... als": 4, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 30.0, "confidence": 95.0, "analysis_time": "2025-08-07T06:41:44.024957"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 47.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (995 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:44.027957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 17): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (17, 17, datetime.datetime(2025, 8, 7, 6, 41, 44, 88957), None, None, 60.0, None, 50, 55.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "034730", "indicators": {"ma5": 33123.8, "ma20": 31336.9, "ma_signal": "BUY", "rsi": 72.16814159292035, "rsi_signal": "OVERBOUGHT", "macd" ... (552 characters truncated) ... als": 3, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 55.0, "confidence": 80.0, "analysis_time": "2025-08-07T06:41:43.986956"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.987960"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 18): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (18, 18, datetime.datetime(2025, 8, 7, 6, 41, 44, 86956), None, None, 60.0, None, 50, 20.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "259960", "indicators": {"ma5": 10858.8, "ma20": 11034.5, "ma_signal": "SELL", "rsi": 47.60881246641591, "rsi_signal": "NEUTRAL", "macd":  ... (552 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 20.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:43.875957"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:43.876959"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 06:41:44 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 19): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (19, 19, datetime.datetime(2025, 8, 7, 6, 41, 44, 89957), None, None, 60.0, None, 50, 25.0, 44.25, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "003550", "indicators": {"ma5": 11257.8, "ma20": 11758.15, "ma_signal": "SELL", "rsi": 33.873749568816834, "rsi_signal": "NEUTRAL", "macd" ... (559 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 25.0, "confidence": 100.0, "analysis_time": "2025-08-07T06:41:44.056959"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 44.25, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3, ... (996 characters truncated) ... low", "intensity_score": 30, "volume_ratio": 0.0, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T06:41:44.057957"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 0): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (0, 0, datetime.datetime(2025, 8, 7, 14, 45, 37, 826473), None, None, 60.0, None, 50, 55.0, 59.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "005930", "indicators": {"ma5": 22632.8, "ma20": 21666.6, "ma_signal": "HOLD", "rsi": 62.10571184995737, "rsi_signal": "NEUTRAL", "macd":  ... (549 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 55.0, "confidence": 80.0, "analysis_time": "2025-08-07T14:45:17.819554"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 59.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 65, "trend": "buying", "strength": 0.3, ... (1076 characters truncated) ... score": 50, "volume_ratio": 1.2499999999999998, "pattern": "active_trading", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.827546"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 1): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (1, 1, datetime.datetime(2025, 8, 7, 14, 45, 37, 828474), None, None, 60.0, None, 50, 35.0, 56.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "000660", "indicators": {"ma5": 39919.8, "ma20": 44537.1, "ma_signal": "SELL", "rsi": 24.469520421930582, "rsi_signal": "OVERSOLD", "macd" ... (565 characters truncated) ... als": 4, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 95.0, "analysis_time": "2025-08-07T14:45:18.093452"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 56.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 65, "trend": "buying", "strength": 0.3, ... (1006 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.104971"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 2): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (2, 2, datetime.datetime(2025, 8, 7, 14, 45, 37, 829472), None, None, 60.0, None, 50, 20.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "035420", "indicators": {"ma5": 42836.2, "ma20": 46603.4, "ma_signal": "SELL", "rsi": 31.937960369332913, "rsi_signal": "NEUTRAL", "macd": ... (554 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 20.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:17.980916"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1005 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.991924"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 3): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (3, 3, datetime.datetime(2025, 8, 7, 14, 45, 37, 822478), None, None, 60.0, None, 50, 70.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "005380", "indicators": {"ma5": 16418.0, "ma20": 15849.05, "ma_signal": "BUY", "rsi": 56.7259308956726, "rsi_signal": "NEUTRAL", "macd": 9 ... (548 characters truncated) ... als": 2, "neutral_signals": 3, "overall_signal": "HOLD"}, "technical_score": 70.0, "confidence": 90.0, "analysis_time": "2025-08-07T14:45:18.399543"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1006 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.431552"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 4): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (4, 4, datetime.datetime(2025, 8, 7, 14, 45, 37, 829472), None, None, 60.0, None, 50, 30.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "051910", "indicators": {"ma5": 28332.8, "ma20": 32223.8, "ma_signal": "SELL", "rsi": 15.871968322059061, "rsi_signal": "OVERSOLD", "macd" ... (559 characters truncated) ... als": 4, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 30.0, "confidence": 95.0, "analysis_time": "2025-08-07T14:45:17.902915"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1004 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.911916"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 5): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (5, 5, datetime.datetime(2025, 8, 7, 14, 45, 18, 474557), None, None, 60.0, None, 50, 60.0, 52.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "028260", "indicators": {"ma5": 13056.8, "ma20": 13541.85, "ma_signal": "HOLD", "rsi": 46.54766575127501, "rsi_signal": "NEUTRAL", "macd": ... (553 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 60.0, "confidence": 80.0, "analysis_time": "2025-08-07T14:45:17.840544"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 52.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1016 characters truncated) ... al", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.841543"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 6): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (6, 6, datetime.datetime(2025, 8, 7, 14, 45, 37, 825474), None, None, 60.0, None, 50, 20.0, 46.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "006400", "indicators": {"ma5": 27263.4, "ma20": 28763.1, "ma_signal": "SELL", "rsi": 33.65467009425879, "rsi_signal": "NEUTRAL", "macd":  ... (555 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 20.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:17.951915"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 46.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1043 characters truncated) ... tensity_score": 50, "volume_ratio": 1.2499999999999998, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.960914"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 7): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (7, 7, datetime.datetime(2025, 8, 7, 14, 45, 37, 822478), None, None, 60.0, None, 50, 35.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "000270", "indicators": {"ma5": 17370.6, "ma20": 18846.15, "ma_signal": "HOLD", "rsi": 32.03101699970176, "rsi_signal": "NEUTRAL", "macd": ... (552 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:17.853541"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1005 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.859543"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 8): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (8, 8, datetime.datetime(2025, 8, 7, 14, 45, 18, 476554), None, None, 60.0, None, 50, 30.0, 46.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "068270", "indicators": {"ma5": 41592.8, "ma20": 43204.7, "ma_signal": "SELL", "rsi": 33.823632908719816, "rsi_signal": "NEUTRAL", "macd": ... (553 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 30.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:18.341026"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 46.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1044 characters truncated) ... tensity_score": 50, "volume_ratio": 1.2499999999999998, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.343024"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 9): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (9, 9, datetime.datetime(2025, 8, 7, 14, 45, 37, 825474), None, None, 60.0, None, 50, 65.0, 52.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "105560", "indicators": {"ma5": 12084.6, "ma20": 11868.7, "ma_signal": "HOLD", "rsi": 59.114747220474094, "rsi_signal": "NEUTRAL", "macd": ... (557 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 65.0, "confidence": 80.0, "analysis_time": "2025-08-07T14:45:18.204499"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 52.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1042 characters truncated) ... tensity_score": 50, "volume_ratio": 1.2499999999999998, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.238501"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 10): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (10, 10, datetime.datetime(2025, 8, 7, 14, 45, 37, 828474), None, None, 60.0, None, 50, 25.0, 52.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "055550", "indicators": {"ma5": 41429.4, "ma20": 42866.8, "ma_signal": "SELL", "rsi": 42.77138569284642, "rsi_signal": "NEUTRAL", "macd":  ... (555 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 25.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:18.061447"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 52.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1019 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.070442"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 11): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (11, 11, datetime.datetime(2025, 8, 7, 14, 45, 37, 824474), None, None, 60.0, None, 50, 35.0, 47.125, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "035720", "indicators": {"ma5": 42837.0, "ma20": 45661.55, "ma_signal": "HOLD", "rsi": 30.06824879789049, "rsi_signal": "NEUTRAL", "macd": ... (554 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:18.237500"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 47.125, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1040 characters truncated) ... , "intensity_score": 50, "volume_ratio": 1.25, "pattern": "volume_breakout", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.279499"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 12): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (12, 12, datetime.datetime(2025, 8, 7, 14, 45, 18, 512082), None, None, 60.0, None, 50, 65.0, 50.375, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "207940", "indicators": {"ma5": 26945.2, "ma20": 26478.6, "ma_signal": "HOLD", "rsi": 51.53631284916201, "rsi_signal": "NEUTRAL", "macd":  ... (547 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 65.0, "confidence": 80.0, "analysis_time": "2025-08-07T14:45:18.452554"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 50.375, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 55, "trend": "neutral", "strength": 0.3 ... (1015 characters truncated) ... al", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.464553"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 13): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (13, 13, datetime.datetime(2025, 8, 7, 14, 45, 37, 827473), None, None, 60.0, None, 50, 35.0, 46.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "066570", "indicators": {"ma5": 23051.2, "ma20": 22633.8, "ma_signal": "HOLD", "rsi": 45.31852187712536, "rsi_signal": "NEUTRAL", "macd":  ... (549 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:18.125972"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 46.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1033 characters truncated) ... al", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.136969"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 14): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (14, 14, datetime.datetime(2025, 8, 7, 14, 45, 37, 824474), None, None, 60.0, None, 50, 40.0, 46.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "323410", "indicators": {"ma5": 33104.0, "ma20": 33982.8, "ma_signal": "SELL", "rsi": 41.18173012443186, "rsi_signal": "NEUTRAL", "macd":  ... (550 characters truncated) ... als": 3, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 40.0, "confidence": 90.0, "analysis_time": "2025-08-07T14:45:18.012444"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 46.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1060 characters truncated) ... tensity_score": 50, "volume_ratio": 1.2499999999999998, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.025443"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 15): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (15, 15, datetime.datetime(2025, 8, 7, 14, 45, 37, 823474), None, None, 60.0, None, 50, 20.0, 52.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "000810", "indicators": {"ma5": 10616.4, "ma20": 11219.6, "ma_signal": "SELL", "rsi": 37.67953321364452, "rsi_signal": "NEUTRAL", "macd":  ... (553 characters truncated) ... ls": 4, "neutral_signals": 3, "overall_signal": "SELL"}, "technical_score": 20.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:18.269500"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 52.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1053 characters truncated) ... y_score": 50, "volume_ratio": 1.2499999999999998, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.280502"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 16): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (16, 16, datetime.datetime(2025, 8, 7, 14, 45, 37, 826473), None, None, 60.0, None, 50, 45.0, 52.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "017670", "indicators": {"ma5": 14070.4, "ma20": 13888.65, "ma_signal": "HOLD", "rsi": 47.70745428973277, "rsi_signal": "NEUTRAL", "macd": ... (562 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 45.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:18.161969"}', '{"overall_score": 50.0, "news_sentiment": "neutral"}', '{"overall_score": 52.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1057 characters truncated) ... tensity_score": 50, "volume_ratio": 1.2499999999999998, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.183970"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 17): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (17, 17, datetime.datetime(2025, 8, 7, 14, 45, 18, 476554), None, None, 60.0, None, 50, 35.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "034730", "indicators": {"ma5": 21273.6, "ma20": 22917.25, "ma_signal": "SELL", "rsi": 24.357131448650378, "rsi_signal": "OVERSOLD", "macd ... (556 characters truncated) ... als": 4, "neutral_signals": 2, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 95.0, "analysis_time": "2025-08-07T14:45:17.931916"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1015 characters truncated) ... al", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "low_activity", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.934919"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 18): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (18, 18, datetime.datetime(2025, 8, 7, 14, 45, 18, 477552), None, None, 60.0, None, 50, 65.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "259960", "indicators": {"ma5": 10407.6, "ma20": 10123.0, "ma_signal": "HOLD", "rsi": 57.388178913738024, "rsi_signal": "NEUTRAL", "macd": ... (558 characters truncated) ... als": 2, "neutral_signals": 4, "overall_signal": "HOLD"}, "technical_score": 65.0, "confidence": 80.0, "analysis_time": "2025-08-07T14:45:18.370024"}', '{"overall_score": 50, "signal_strength": 50, "confidence": 0.5, "news_sentiment": "neutral", "news_count": 0, "positive_ratio": 0.5, "negative_ratio" ... (182 characters truncated) ... erm_outlook": "\\uc815\\ubcf4 \\ubd80\\uc871", "summary": "\\ub274\\uc2a4 \\uc815\\ubcf4 \\ubd80\\uc871\\uc73c\\ub85c \\uc911\\ub9bd \\ud310\\uc815"}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1004 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:18.372025"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-08-07 14:45:37 | DatabaseOperations | ERROR    | save_analysis_result | ❌ 분석 결과 저장 실패 (FilteredStock ID: 19): (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.InvalidTextRepresentationError'>: json 자료형에 대한 잘못된 입력 구문
DETAIL:  잘못된 토큰: "NaN"
[SQL: INSERT INTO analysis_results (filtered_stock_id, stock_id, analysis_datetime, strategy, total_score, score_threshold, final_grade, news_score, technical_score, supply_demand_score, rsi_14, macd_signal, supertrend_signal, ema_5, ema_20, bollinger_position, positive_news_count, negative_news_count, institution_net, foreign_net, individual_net, volatility, liquidity_risk, market_risk, risk_level, technical_details, sentiment_details, supply_demand_details, price_at_analysis, is_selected, created_at, updated_at) VALUES ($1::INTEGER, $2::INTEGER, $3::TIMESTAMP WITHOUT TIME ZONE, $4::VARCHAR, $5::NUMERIC(5, 2), $6::NUMERIC(5, 2), $7::analysisgrade, $8::NUMERIC(5, 2), $9::NUMERIC(5, 2), $10::NUMERIC(5, 2), $11::NUMERIC(5, 2), $12::VARCHAR, $13::VARCHAR, $14::INTEGER, $15::INTEGER, $16::VARCHAR, $17::INTEGER, $18::INTEGER, $19::BIGINT, $20::BIGINT, $21::BIGINT, $22::NUMERIC(5, 2), $23::NUMERIC(5, 2), $24::NUMERIC(5, 2), $25::risklevel, $26::JSON, $27::JSON, $28::JSON, $29::INTEGER, $30::BOOLEAN, now(), now()) RETURNING analysis_results.id, analysis_results.created_at, analysis_results.updated_at]
[parameters: (19, 19, datetime.datetime(2025, 8, 7, 14, 45, 37, 175894), None, None, 60.0, None, 50, 35.0, 49.875, None, None, None, None, None, None, 0, 0, 0, 0, 0, None, None, None, None, '{"symbol": "003550", "indicators": {"ma5": 36398.0, "ma20": 36536.8, "ma_signal": "HOLD", "rsi": 50.18572825024439, "rsi_signal": "NEUTRAL", "macd":  ... (549 characters truncated) ... ls": 3, "neutral_signals": 4, "overall_signal": "SELL"}, "technical_score": 35.0, "confidence": 100.0, "analysis_time": "2025-08-07T14:45:17.878545"}', '{"overall_score": 50.0, "signal_strength": 25.0, "confidence": 0.5, "news_sentiment": "negative", "news_count": 2, "positive_ratio": 0.5, "negative_r ... (979 characters truncated) ...  \\uc6b0\\ub824 \\ub274\\uc2a4\\uc5d0 \\uc758\\ud574 \\ubd80\\uc815\\uc801\\uc778 \\ubc29\\ud5a5\\uc73c\\ub85c \\ud615\\uc131\\ub429\\ub2c8\\ub2e4."}', '{"overall_score": 49.875, "foreign_trading": {"net_buying": 0, "trading_value": 0, "buy_ratio": 0.5, "score": 45, "trend": "neutral", "strength": 0.3 ... (1019 characters truncated) ...  "normal", "intensity_score": 50, "volume_ratio": 1.25, "pattern": "normal", "sustainability": false}, "analysis_time": "2025-08-07T14:45:17.886548"}', None, False)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
